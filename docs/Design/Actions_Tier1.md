# Actions — Tier1 Minimal Set

最終更新: 2025-09-14

Tier1 の最小行為セット（耕す/播種/灌水/収穫）を、AP/資金/TagDelta/前提/副作用で定義します。数値は暫定で、テスト容易性を優先しています。

---

## 共通

- AP 残量で実行可否を判定。実行時に即時AP消費。
- TagDelta は `Nogue.Core.TagDelta` に対応。適用後はクランプ。
- 余波（Cascade）は内部で深さ≤5に伝播し、UIには上位3のみ通知。

---

## 行為一覧

| ID | 名称 | AP | 資金 | TagDelta | 前提 | 副作用/備考 |
|---|---|---:|---:|---|---|---|
| till | 耕す | 2 | 0 | `SetCover=Bare`, `MycorrhizaAffinity=-1`, `SeedBank=+1` | 1日1回/Patch | 撹拌により菌根低下、埋土種子が増える |
| sow | 播種 | 1 | 0 | なし（作物状態をセット） | 直近で耕している/対象が空き | 種子在庫を1消費（在庫<1なら不可） |
| irrigate | 灌水 | 1 | 0 | `Humidity=+1` | 1日2回まで | 高湿時（湿度≥4）は病兆候補の重みが上がる（ディレクター側の評価で表現） |
| harvest | 収穫 | 3 | 0 | `SetCover=Bare`, `SeedBank=+1` | 成熟期 | 収量を在庫へ計上、品質はC固定（Tier1） |

---

## エッジケースと優先度

- `till` は同日複数回実行不可。
- `irrigate` は湿度上限でクランプ（5）。
- `harvest` は対象作物がない場合は実行不可（ユーザーへエラー表示）。

---

## 将来拡張（Later）

- 除草/マルチ/火入れ/修理/出荷などを追加（Tier2+）。
- デバイス効果によるAP補正（αの乗算合成）。

